# Инструкции по развертыванию Telegram Financial Bot

## Шаг 1: Создание бота в Telegram

1. Откройте Telegram и найдите [@BotFather](https://t.me/BotFather)
2. Отправьте команду `/newbot`
3. Введите имя бота (например: "Financial Services Bot")
4. Введите username бота (например: "your_finance_bot")
5. Сохраните полученный токен

## Шаг 2: Получение вашего Telegram ID

1. Найдите [@userinfobot](https://t.me/userinfobot) в Telegram
2. Отправьте любое сообщение
3. Бот ответит вашим ID (например: 123456789)

## Шаг 3: Создание GitHub репозитория

1. Зайдите на [GitHub.com](https://github.com)
2. Создайте новый репозиторий
3. Загрузите все файлы из папки `spacebotv3`:
   - `render_bot.py` (или `render_bot_improved.py`)
   - `requirements.txt`
   - `render.yaml`
   - `runtime.txt`
   - `README.md`

## Шаг 4: Настройка на Render.com

1. Зайдите на [Render.com](https://render.com)
2. Создайте аккаунт (можно через GitHub)
3. Нажмите "New Web Service"
4. Выберите ваш GitHub репозиторий
5. Настройте параметры:
   - **Name**: `telegram-finance-bot`
   - **Environment**: `Python 3`
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `python render_bot.py`

6. В разделе "Environment Variables" добавьте:
   ```
   TELEGRAM_BOT_TOKEN = ваш_токен_бота
   ADMIN_ID = ваш_telegram_id
   PORT = 10000
   ```

7. Нажмите "Create Web Service"

## Шаг 5: Проверка работы

1. Дождитесь завершения развертывания (статус "Live")
2. Отправьте `/start` вашему боту
3. Проверьте получение уведомлений администратором

## Возможные проблемы и решения

### Проблема: Бот не отвечает
**Решение:**
- Проверьте правильность токена
- Убедитесь, что переменные окружения установлены
- Проверьте логи в Render Dashboard

### Проблема: Ошибка "ModuleNotFoundError"
**Решение:**
- Убедитесь, что `requirements.txt` содержит все зависимости
- Проверьте, что используется правильная версия Python

### Проблема: Бот падает с ошибками
**Решение:**
- Проверьте логи в Render Dashboard
- Убедитесь, что все импорты корректны
- Проверьте синтаксис Python кода

## Мониторинг и поддержка

### Просмотр логов
1. В Render Dashboard выберите ваш сервис
2. Перейдите на вкладку "Logs"
3. Следите за ошибками и предупреждениями

### Проверка состояния
- Откройте URL вашего сервиса (например: `https://your-bot.onrender.com`)
- Должен отобразиться JSON с информацией о состоянии

### Статистика
- Перейдите на `/stats` для просмотра статистики пользователей

## Обновление бота

1. Внесите изменения в код
2. Загрузите изменения в GitHub
3. Render автоматически перезапустит сервис
4. Проверьте работу обновленного бота

## Безопасность

### Рекомендации:
- Никогда не публикуйте токены в открытом доступе
- Регулярно обновляйте зависимости
- Мониторьте активность бота
- Используйте HTTPS для всех соединений

### Переменные окружения:
- `TELEGRAM_BOT_TOKEN` - конфиденциально
- `ADMIN_ID` - может быть публичным
- `PORT` - техническая настройка

## Контакты для поддержки

- Основной оператор: @swiwell
- Техническая поддержка: @Deadkid
- Время работы: Круглосуточно

## Дополнительные возможности

### Локальное тестирование:
```bash
# Установка зависимостей
pip install -r requirements.txt

# Создание .env файла
echo "TELEGRAM_BOT_TOKEN=ваш_токен" > .env
echo "ADMIN_ID=ваш_id" >> .env
echo "PORT=10000" >> .env

# Запуск бота
python render_bot.py
```

### Настройка webhook (опционально):
1. Получите SSL сертификат
2. Настройте домен
3. Установите webhook URL в BotFather

## Структура файлов

```
spacebotv3/
├── render_bot.py              # Основной бот
├── render_bot_improved.py     # Улучшенная версия с безопасностью
├── requirements.txt           # Зависимости
├── render.yaml               # Конфигурация Render
├── runtime.txt               # Версия Python
├── README.md                 # Документация
└── DEPLOYMENT.md             # Инструкции по развертыванию
```
